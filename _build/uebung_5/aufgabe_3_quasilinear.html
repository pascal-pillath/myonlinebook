---
redirect_from:
  - "/uebung-5/aufgabe-3-quasilinear"
interact_link: content/uebung_5/aufgabe_3_quasilinear.ipynb
kernel_name: python3
has_widgets: false
title: |-
  übung 3
prev_page:
  url: /uebung_1/bqplot_test.html
  title: |-
    übung 1
next_page:
  url: 
  title: |-
    
comment: "***PROGRAMMATICALLY GENERATED, DO NOT EDIT. SEE ORIGINAL FILES IN /content***"
---

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">bqplot</span> <span class="k">import</span>  <span class="n">LinearScale</span><span class="p">,</span><span class="n">Axis</span><span class="p">,</span><span class="n">Lines</span><span class="p">,</span><span class="n">Figure</span><span class="p">,</span><span class="n">Label</span><span class="p">,</span><span class="n">Scatter</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>




<span class="c1">###General Setup</span>

<span class="c1"># Axes</span>
<span class="n">x_sc</span> <span class="o">=</span> <span class="n">LinearScale</span><span class="p">()</span>
<span class="n">y_sc</span> <span class="o">=</span> <span class="n">LinearScale</span><span class="p">()</span>

<span class="n">ax_x</span> <span class="o">=</span> <span class="n">Axis</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;x1&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">x_sc</span><span class="p">,</span> <span class="n">num_ticks</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>


<span class="n">ax_y</span> <span class="o">=</span> <span class="n">Axis</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;x2&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">y_sc</span><span class="p">,</span>
            <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span><span class="p">,</span> <span class="n">num_ticks</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>



<span class="c1">#vertical</span>
<span class="n">ax_vertical</span> <span class="o">=</span> <span class="n">Lines</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
                    <span class="n">y</span><span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> 
                    <span class="n">scales</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">x_sc</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">y_sc</span><span class="p">},</span> 
                    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;black&#39;</span><span class="p">]</span>
                   <span class="p">)</span>

<span class="n">ax_hor1</span> <span class="o">=</span> <span class="n">Lines</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
                    <span class="n">y</span><span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> 
                    <span class="n">scales</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">x_sc</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">y_sc</span><span class="p">},</span> 
                    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;black&#39;</span><span class="p">]</span>
                   <span class="p">)</span>

<span class="n">m</span> <span class="o">=</span> <span class="mi">2</span>

<span class="c1">###Main Lines</span>

<span class="c1">#g1</span>
<span class="n">x1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.7</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">g1</span> <span class="o">=</span> <span class="n">Lines</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="n">x1</span><span class="p">,</span>
            <span class="n">y</span><span class="o">=</span><span class="p">(</span><span class="mf">0.6</span><span class="o">-</span><span class="n">x1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span>
            <span class="n">scales</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">x_sc</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">y_sc</span><span class="p">},</span>
            <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;black&#39;</span><span class="p">],</span>
            <span class="n">display_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
            <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Indifferenzkurve&#39;</span><span class="p">])</span>


<span class="n">x2</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">g2</span> <span class="o">=</span> <span class="n">Lines</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="n">x2</span><span class="p">,</span>
            <span class="n">y</span><span class="o">=</span> <span class="o">-</span><span class="mi">24</span><span class="o">/</span><span class="mi">10</span> <span class="o">*</span><span class="n">x2</span><span class="p">,</span>
            <span class="n">scales</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">x_sc</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">y_sc</span><span class="p">},</span>
            <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">],</span>
            <span class="n">display_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
            <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Budgetgerade&#39;</span><span class="p">])</span>

<span class="c1">###help line (dashed)</span>

<span class="n">t1</span> <span class="o">=</span> <span class="mi">144</span><span class="o">/</span><span class="mi">100</span>

<span class="c1">#vertical</span>
<span class="n">g_vertical</span> <span class="o">=</span> <span class="n">Lines</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
                    <span class="n">y</span><span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">t1</span><span class="p">],</span> 
                    <span class="n">scales</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">x_sc</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">y_sc</span><span class="p">},</span> 
                    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Blue&#39;</span><span class="p">],</span> 
                    <span class="n">line_style</span> <span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">)</span>

<span class="c1">#horizontal</span>
<span class="n">g_horiz</span> <span class="o">=</span> <span class="n">Lines</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
                <span class="n">y</span><span class="o">=</span> <span class="p">[</span><span class="n">t1</span><span class="p">,</span> <span class="n">t1</span><span class="p">],</span> 
                <span class="n">scales</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">x_sc</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">y_sc</span><span class="p">},</span> 
                <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Blue&#39;</span><span class="p">],</span> 
                <span class="n">line_style</span> <span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span>
                <span class="n">display_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Einkommensexpansionspfad&#39;</span><span class="p">])</span>



<span class="c1">#Marks</span>

<span class="n">optimum</span> <span class="o">=</span> <span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">default_size</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span><span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Blue&#39;</span><span class="p">],</span>
             <span class="n">scales</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">x_sc</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">y_sc</span><span class="p">})</span>



<span class="c1">### Text boxes</span>

<span class="n">lab1</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="n">t1</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">0.3</span><span class="p">],</span> <span class="n">default_size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span><span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;black&#39;</span><span class="p">],</span>
             <span class="n">scales</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">x_sc</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">y_sc</span><span class="p">},</span>
            <span class="n">text</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;t1 = &quot;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">t1</span><span class="p">)],</span> <span class="n">enable_move</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">align</span> <span class="o">=</span> <span class="s1">&#39;middle&#39;</span><span class="p">)</span>

<span class="n">lab2</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="n">t1</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">0.7</span><span class="p">],</span> <span class="n">default_size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span><span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;black&#39;</span><span class="p">],</span>
             <span class="n">scales</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">x_sc</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">y_sc</span><span class="p">},</span>
             <span class="n">text</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;t2 = &quot;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">60</span><span class="o">-</span><span class="n">t1</span><span class="p">)],</span> <span class="n">enable_move</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">align</span> <span class="o">=</span> <span class="s1">&#39;middle&#39;</span><span class="p">)</span>






<span class="c1">### Show Figure</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="p">[</span><span class="n">ax_x</span><span class="p">,</span> <span class="n">ax_y</span><span class="p">],</span> 
             <span class="n">marks</span><span class="o">=</span><span class="p">[</span><span class="n">ax_vertical</span><span class="p">,</span>
                    <span class="n">ax_hor1</span><span class="p">,</span>
                    <span class="n">g1</span><span class="p">,</span>
                    <span class="c1">#g2,</span>
                    <span class="c1">#g_vertical,g_horiz,</span>
                    <span class="c1">#optimum,</span>
                    <span class="p">],</span>

            <span class="n">legend_location</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span>
            <span class="n">background_style</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;fill&#39;</span><span class="p">:</span><span class="s1">&#39;white&#39;</span><span class="p">}</span>
            <span class="p">)</span>


<span class="n">display</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>



<span class="c1">#Section for the Interactive parameters</span>

<span class="n">int_range</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>  <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Utility :&#39;</span><span class="p">,</span>
                                    <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">step</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="n">output2</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Output</span><span class="p">()</span>
<span class="n">display</span><span class="p">(</span><span class="n">int_range</span><span class="p">,</span> <span class="n">output2</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">on_value_change</span><span class="p">(</span><span class="n">change</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">output2</span><span class="p">:</span>
        
        
        <span class="n">m</span> <span class="o">=</span> <span class="n">change</span><span class="p">[</span><span class="s1">&#39;new&#39;</span><span class="p">]</span>
        
        
        
        
        
        <span class="n">x1m</span> <span class="o">=</span> <span class="n">x1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">+</span><span class="n">m</span><span class="p">,</span><span class="mf">0.7</span><span class="o">+</span><span class="n">m</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
        
        <span class="n">g1</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x1m</span>
        
        <span class="n">x2m</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">+</span><span class="n">m</span><span class="p">,</span><span class="mf">0.1</span><span class="o">+</span><span class="n">m</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
        
        <span class="n">g2</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x2m</span>
        
        <span class="k">if</span> <span class="n">m</span> <span class="o">&lt;=</span> <span class="mf">0.6</span><span class="p">:</span>
            <span class="n">optimum</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">24</span><span class="o">/</span><span class="mi">10</span> <span class="o">*</span><span class="n">m</span><span class="p">]</span>
            <span class="n">optimum</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">optimum</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">24</span><span class="o">/</span><span class="mi">10</span> <span class="o">*</span><span class="mf">0.6</span><span class="p">]</span>
            <span class="n">optimum</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[(</span><span class="n">m</span><span class="o">-</span><span class="mf">0.6</span><span class="p">)]</span>
<span class="n">int_range</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">on_value_change</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">




 
 
<div id="eb1dcc41-d8fe-4187-bcd1-2e653c19a41f"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#eb1dcc41-d8fe-4187-bcd1-2e653c19a41f');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "c8ad506e55c44dc9b3e7bc1b0c15c3cd", "version_major": 2, "version_minor": 0}
</script>
</div>

</div>
</div>
<div class="jb_output_wrapper }}">
<div class="output_area">




 
 
<div id="d07b6405-3520-42f4-806f-40a8fa2a56a2"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#d07b6405-3520-42f4-806f-40a8fa2a56a2');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "72669cdf00cf4a7d800e26a3cdc65d57", "version_major": 2, "version_minor": 0}
</script>
</div>

</div>
</div>
<div class="jb_output_wrapper }}">
<div class="output_area">




 
 
<div id="ab8148d9-dd3f-4d3a-b781-7f3cbc5aea28"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#ab8148d9-dd3f-4d3a-b781-7f3cbc5aea28');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "3aa8ccd7a16343f68f765410a4096b13", "version_major": 2, "version_minor": 0}
</script>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

 

